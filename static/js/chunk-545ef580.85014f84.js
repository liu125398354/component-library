(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-545ef580"],{"039d":function(e,t,s){"use strict";s("695b")},"366b":function(e,t,s){},"3f5e":function(e,t,s){"use strict";var a=s("e443");t["a"]={uploadCommonFile(e,t){return Object(a["a"])({...t,url:"/apk/upload",method:"post",data:e,timeout:0})},uploadMaxFile(e){return Object(a["a"])({url:"/uploadChunk",method:"post",data:e,timeout:0})},uploadMultiChunk(e){return Object(a["a"])({url:"/uploadMultiChunk",method:"post",data:e,timeout:0})}}},"695b":function(e,t,s){},"959a":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"file"},[t("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{multiple:"",limit:5,action:"https://192.168.6.17:3000/uploadImg/","on-change":e.handleChange,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"auto-upload":!1,"http-request":e.uploadRequest}},[t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-button",{staticClass:"submit-btn",attrs:{type:"primary"},on:{click:e.submitBtn}},[e._v("上传按钮")]),t("mask-progress",{attrs:{detailShow:e.detailShow,progress:e.progress}})],1)},i=[],o=(s("14d9"),s("3f5e")),l=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.detailShow,expression:"detailShow"}],staticClass:"detail"},[t("div",{staticClass:"detail-wrapper clearfix"},[t("div",{staticClass:"uploadProcess"},[t("el-progress",{attrs:{type:"circle",percentage:e.progress,color:e.colors}})],1)])])])},r=[],n={props:{detailShow:{type:Boolean},progress:{type:Number}},data(){return{colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#6f7ad3",percentage:60},{color:"#1989fa",percentage:80},{color:"#67c23a",percentage:100}]}}},u=n,c=(s("039d"),s("2877")),p=Object(c["a"])(u,l,r,!1,null,null,null),d=p.exports,h={data(){return{detailShow:!1,count:0,progress:0,fileList:[]}},methods:{handleChange(e,t){console.log(e.raw),this.fileList.push({uid:e.uid,file:e.raw})},handleRemove(e){let t=this.fileList.findIndex(t=>t.uid===e.uid);-1!==t&&this.fileList.splice(t,1)},handleExceed(e,t){this.$message.warning("最多只能上传 5 个文件")},uploadRequest(e){if(this.count++,this.count===this.fileList.length){let e=new FormData;for(let t=0;t<this.fileList.length;t++)e.append("file",this.fileList[t].file);this.finalUpload(e)}},finalUpload(e){this.detailShow=!0;let t={onUploadProgress:e=>{let t=e.loaded/e.total*100|0;this.progress=t}};o["a"].uploadCommonFile(e,t).then(e=>{setTimeout(()=>{this.detailShow=!1},800),setTimeout(()=>{this.$confirm("文件上传成功！","温馨提示",{confirmButtonText:"查看文件",cancelButtonText:"继续上传"}).then(()=>{this.$message.success("跳转到文件页面"),this.progress=0,this.count=0,this.fileList=[],this.$refs.upload.clearFiles()}).catch(()=>{this.progress=0,this.count=0,this.fileList=[],this.$refs.upload.clearFiles()})},1500)})},submitBtn(){this.fileList.length>0?this.$refs.upload.submit():(this.$message.closeAll(),this.$message({message:"你还没有上传文件",type:"warning"}))}},components:{MaskProgress:d}},f=h,m=(s("fa3b"),Object(c["a"])(f,a,i,!1,null,null,null));t["default"]=m.exports},e443:function(e,t,s){"use strict";var a=s("bc3a"),i=s.n(a);const o=i.a.create({baseURL:"https://liu125398354.github.io/api",timeout:1e4});o.interceptors.request.use(e=>e,e=>Promise.reject(e)),o.interceptors.response.use(e=>{const t=e.data;return t},e=>Promise.reject(e)),t["a"]=o},fa3b:function(e,t,s){"use strict";s("366b")}}]);